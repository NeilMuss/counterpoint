<svg xmlns="http://www.w3.org/2000/svg" width="1600" height="1600" viewBox="-250.0000 -250.0000 1500.0000 1500.0000">

  <g id="reference-fill" opacity="0.2500" transform="matrix(1.000000 0.000000 -0.000000 1.000000 0.000000 0.000000)">

    <g transform="matrix(1,0,0,1,-723.651,-447.875)">
        <path d="M955.526,454.125L955.526,447.875L763.026,447.875L763.026,454.125C773.859,455.375 784.38,457.25 794.589,459.75C804.797,462.25 812.818,467.042 818.651,474.125C821.151,477.042 822.922,481.208 823.964,486.625C825.005,492.042 825.839,498.188 826.464,505.063C827.089,511.938 827.401,519.125 827.401,526.625L827.401,744.125C827.401,755.792 827.297,766.625 827.089,776.625C826.88,786.625 826.776,794.542 826.776,800.375C826.359,812.042 825.63,823.708 824.589,835.375C823.547,847.042 821.776,857.458 819.276,866.625C816.359,876.208 811.672,884.333 805.214,891C798.755,897.667 790.318,901 779.901,901C776.568,901 773.026,900.271 769.276,898.813C765.526,897.354 762.609,895.167 760.526,892.25L760.526,890.375C769.276,889.125 776.568,886.313 782.401,881.938C788.234,877.563 791.151,870.583 791.151,861C791.151,852.667 788.13,845.479 782.089,839.438C776.047,833.396 768.859,830.375 760.526,830.375C750.943,830.375 742.401,833.5 734.901,839.75C727.401,846 723.651,854.125 723.651,864.125C723.651,872.042 725.214,878.813 728.339,884.438C731.464,890.063 735.63,894.438 740.839,897.563C746.047,900.688 751.88,903.083 758.339,904.75C764.797,906.417 771.359,907.25 778.026,907.25C790.109,907.25 803.339,904.958 817.714,900.375C832.089,895.792 845.943,888.292 859.276,877.875C870.109,869.542 878.859,860.479 885.526,850.688C892.193,840.896 895.526,829.125 895.526,815.375L895.526,600.375C895.526,589.958 895.63,579.646 895.839,569.438C896.047,559.229 896.151,548.917 896.151,538.5C896.568,528.917 896.984,518.604 897.401,507.563C897.818,496.521 899.693,487.667 903.026,481C908.443,471 916.359,464.333 926.776,461C937.193,457.667 946.776,455.375 955.526,454.125Z" style="fill-rule:nonzero;"/>
    </g>

  </g>
  <g id="stroke-ink">
    <path d="M 8.9662 433.4107 L 9.9600 421.7884 L 12.1115 411.0557 L 47.8885 428.9443 L 42.8843 434.3469 L 38.8038 439.6167 L 36.0378 444.1288 L 34.5301 447.1367 L 35.9517 450.7515 L 42.0106 453.9506 L 49.5103 452.1666 L 56.4452 447.8282 L 62.8543 442.7465 L 68.7525 437.1286 L 74.1402 431.1053 L 79.0086 424.7695 L 83.3399 418.1965 L 87.1109 411.4541 L 90.2946 404.6082 L 92.8639 397.7272 L 94.7953 390.8829 L 96.0725 384.1508 L 96.9082 377.7047 L 99.1301 372.2002 L 100.8524 366.6241 L 102.0713 360.9884 L 102.7866 355.2958 L 103.0000 349.3023 L 103.0000 340.4740 L 103.0000 331.6458 L 103.0000 322.8175 L 103.0000 313.9892 L 103.0000 305.1610 L 103.0000 296.3327 L 103.0000 287.5044 L 103.0000 278.6762 L 103.0000 269.8479 L 103.0000 261.0197 L 103.0000 252.1914 L 103.0000 243.3631 L 103.0000 234.5349 L 103.0000 225.7066 L 103.0000 216.8783 L 103.0000 208.0501 L 103.0000 199.2218 L 103.0000 190.3935 L 103.0000 181.5653 L 103.0000 172.7370 L 103.0000 163.9088 L 103.0000 155.0805 L 103.0000 146.2522 L 103.0000 137.4240 L 103.0000 128.5957 L 103.0000 119.7674 L 103.0000 110.9392 L 103.0000 102.1109 L 103.0000 93.2826 L 103.0000 84.4544 L 103.0000 75.6261 L 103.0000 66.7978 L 103.0000 57.9696 L 103.0000 49.1413 L 103.0000 40.3131 L 103.0000 31.4848 L 103.0000 22.6565 L 103.0000 13.8283 L 103.0000 5.0000 L 173.0000 5.0000 L 173.0000 13.8283 L 173.0000 22.6565 L 173.0000 31.4848 L 173.0000 40.3131 L 173.0000 49.1413 L 173.0000 57.9696 L 173.0000 66.7978 L 173.0000 75.6261 L 173.0000 84.4544 L 173.0000 93.2826 L 173.0000 102.1109 L 173.0000 110.9392 L 173.0000 119.7674 L 173.0000 128.5957 L 173.0000 137.4240 L 173.0000 146.2522 L 173.0000 155.0805 L 173.0000 163.9088 L 173.0000 172.7370 L 173.0000 181.5653 L 173.0000 190.3935 L 173.0000 199.2218 L 173.0000 208.0501 L 173.0000 216.8783 L 173.0000 225.7066 L 173.0000 234.5349 L 173.0000 243.3631 L 173.0000 252.1914 L 173.0000 261.0197 L 173.0000 269.8479 L 173.0000 278.6762 L 173.0000 287.5044 L 173.0000 296.3327 L 173.0000 305.1610 L 173.0000 313.9892 L 173.0000 322.8175 L 173.0000 331.6458 L 173.0000 340.4740 L 173.0000 349.3023 L 172.5580 360.9478 L 171.0729 372.7689 L 168.5616 384.3854 L 165.0767 395.6748 L 160.6935 406.5393 L 153.6218 415.8753 L 145.7932 424.2657 L 137.5236 431.8283 L 128.8941 438.5932 L 119.9683 444.5927 L 110.7952 449.8544 L 101.4112 454.3957 L 91.8428 458.2188 L 82.1093 461.3031 L 72.2256 463.5942 L 62.2126 464.9797 L 52.1142 465.2432 L 42.0881 465.3789 L 30.7489 466.0832 L 17.8543 459.8222 L 10.4279 446.4432 L 8.9662 433.4107 Z" fill="black" stroke="none" />
  </g>
  <g id="reference-outline" transform="matrix(1.000000 0.000000 -0.000000 1.000000 0.000000 0.000000)" style="fill:none;stroke:cyan;stroke-width:1;vector-effect:non-scaling-stroke">

    <g transform="matrix(1,0,0,1,-723.651,-447.875)">
        <path d="M955.526,454.125L955.526,447.875L763.026,447.875L763.026,454.125C773.859,455.375 784.38,457.25 794.589,459.75C804.797,462.25 812.818,467.042 818.651,474.125C821.151,477.042 822.922,481.208 823.964,486.625C825.005,492.042 825.839,498.188 826.464,505.063C827.089,511.938 827.401,519.125 827.401,526.625L827.401,744.125C827.401,755.792 827.297,766.625 827.089,776.625C826.88,786.625 826.776,794.542 826.776,800.375C826.359,812.042 825.63,823.708 824.589,835.375C823.547,847.042 821.776,857.458 819.276,866.625C816.359,876.208 811.672,884.333 805.214,891C798.755,897.667 790.318,901 779.901,901C776.568,901 773.026,900.271 769.276,898.813C765.526,897.354 762.609,895.167 760.526,892.25L760.526,890.375C769.276,889.125 776.568,886.313 782.401,881.938C788.234,877.563 791.151,870.583 791.151,861C791.151,852.667 788.13,845.479 782.089,839.438C776.047,833.396 768.859,830.375 760.526,830.375C750.943,830.375 742.401,833.5 734.901,839.75C727.401,846 723.651,854.125 723.651,864.125C723.651,872.042 725.214,878.813 728.339,884.438C731.464,890.063 735.63,894.438 740.839,897.563C746.047,900.688 751.88,903.083 758.339,904.75C764.797,906.417 771.359,907.25 778.026,907.25C790.109,907.25 803.339,904.958 817.714,900.375C832.089,895.792 845.943,888.292 859.276,877.875C870.109,869.542 878.859,860.479 885.526,850.688C892.193,840.896 895.526,829.125 895.526,815.375L895.526,600.375C895.526,589.958 895.63,579.646 895.839,569.438C896.047,559.229 896.151,548.917 896.151,538.5C896.568,528.917 896.984,518.604 897.401,507.563C897.818,496.521 899.693,487.667 903.026,481C908.443,471 916.359,464.333 926.776,461C937.193,457.667 946.776,455.375 955.526,454.125Z" style="fill-rule:nonzero;"/>
    </g>

  </g>
  <g id="debug-overlays">
  <g id="debug">
    <line x1="138.0000" y1="5.0000" x2="138.0000" y2="350.0000" stroke="orange" stroke-width="2.0"/>
    <circle cx="138.0000" cy="5.0000" r="4.0" fill="blue" stroke="none"/>
    <circle cx="138.0000" cy="350.0000" r="4.0" fill="blue" stroke="none"/>
    <text x="142.0000" y="346.0000" font-size="10" fill="#444444">stem</text>
    <line x1="138.0000" y1="350.0000" x2="138.0000" y2="450.0000" stroke="#cccccc" stroke-width="1.0"/>
    <line x1="30.0000" y1="420.0000" x2="-10.0000" y2="500.0000" stroke="#cccccc" stroke-width="1.0"/>
    <path d="M 138.0000 350.0000 L 137.8895 354.7238 L 137.5633 359.3701 L 137.0295 363.9369 L 136.2961 368.4225 L 135.3713 372.8247 L 134.2630 377.1418 L 132.9794 381.3717 L 131.5285 385.5127 L 129.9184 389.5627 L 128.1571 393.5198 L 126.2526 397.3822 L 124.2132 401.1478 L 122.0467 404.8149 L 119.7613 408.3813 L 117.3651 411.8454 L 114.8660 415.2050 L 112.2723 418.4584 L 109.5918 421.6035 L 106.8328 424.6385 L 104.0032 427.5614 L 101.1111 430.3704 L 98.1646 433.0634 L 95.1717 435.6387 L 92.1406 438.0942 L 89.0792 440.4280 L 85.9956 442.6383 L 82.8980 444.7230 L 79.7942 446.6804 L 76.6925 448.5084 L 73.6009 450.2052 L 70.5274 451.7687 L 67.4801 453.1972 L 64.4671 454.4887 L 61.4964 455.6413 L 58.5761 456.6529 L 55.7143 457.5219 L 52.9190 458.2461 L 50.1982 458.8237 L 47.5601 459.2528 L 45.0127 459.5314 L 42.5640 459.6577 L 40.2222 459.6296 L 37.9953 459.4454 L 35.8913 459.1030 L 33.9184 458.6006 L 32.0845 457.9362 L 30.3977 457.1079 L 28.8662 456.1138 L 27.4979 454.9520 L 26.3010 453.6205 L 25.2834 452.1175 L 24.4533 450.4410 L 23.8188 448.5890 L 23.3878 446.5598 L 23.1684 444.3513 L 23.1687 441.9616 L 23.3968 439.3888 L 23.8608 436.6311 L 24.5686 433.6864 L 25.5283 430.5529 L 26.7481 427.2286 L 28.2360 423.7116 L 30.0000 420.0000" fill="none" stroke="orange" stroke-width="2.0" />
    <circle cx="138.0000" cy="350.0000" r="4.0" fill="blue" stroke="none"/>
    <circle cx="30.0000" cy="420.0000" r="4.0" fill="blue" stroke="none"/>
    <circle cx="138.0000" cy="450.0000" r="4.0" fill="red" stroke="none"/>
    <circle cx="-10.0000" cy="500.0000" r="4.0" fill="red" stroke="none"/>
    <text x="71.4801" y="449.1972" font-size="10" fill="#444444">hook</text>
  </g>
  <g id="debug-ring-spine">
    <path d="M 8.9662 433.4107 L 9.9600 421.7884 L 12.1115 411.0557 L 47.8885 428.9443 L 42.8843 434.3469 L 38.8038 439.6167 L 36.0378 444.1288 L 34.5301 447.1367 L 35.9517 450.7515 L 42.0106 453.9506 L 49.5103 452.1666 L 56.4452 447.8282 L 62.8543 442.7465 L 68.7525 437.1286 L 74.1402 431.1053 L 79.0086 424.7695 L 83.3399 418.1965 L 87.1109 411.4541 L 90.2946 404.6082 L 92.8639 397.7272 L 94.7953 390.8829 L 96.0725 384.1508 L 96.9082 377.7047 L 99.1301 372.2002 L 100.8524 366.6241 L 102.0713 360.9884 L 102.7866 355.2958 L 103.0000 349.3023 L 103.0000 340.4740 L 103.0000 331.6458 L 103.0000 322.8175 L 103.0000 313.9892 L 103.0000 305.1610 L 103.0000 296.3327 L 103.0000 287.5044 L 103.0000 278.6762 L 103.0000 269.8479 L 103.0000 261.0197 L 103.0000 252.1914 L 103.0000 243.3631 L 103.0000 234.5349 L 103.0000 225.7066 L 103.0000 216.8783 L 103.0000 208.0501 L 103.0000 199.2218 L 103.0000 190.3935 L 103.0000 181.5653 L 103.0000 172.7370 L 103.0000 163.9088 L 103.0000 155.0805 L 103.0000 146.2522 L 103.0000 137.4240 L 103.0000 128.5957 L 103.0000 119.7674 L 103.0000 110.9392 L 103.0000 102.1109 L 103.0000 93.2826 L 103.0000 84.4544 L 103.0000 75.6261 L 103.0000 66.7978 L 103.0000 57.9696 L 103.0000 49.1413 L 103.0000 40.3131 L 103.0000 31.4848 L 103.0000 22.6565 L 103.0000 13.8283 L 103.0000 5.0000 L 173.0000 5.0000 L 173.0000 13.8283 L 173.0000 22.6565 L 173.0000 31.4848 L 173.0000 40.3131 L 173.0000 49.1413 L 173.0000 57.9696 L 173.0000 66.7978 L 173.0000 75.6261 L 173.0000 84.4544 L 173.0000 93.2826 L 173.0000 102.1109 L 173.0000 110.9392 L 173.0000 119.7674 L 173.0000 128.5957 L 173.0000 137.4240 L 173.0000 146.2522 L 173.0000 155.0805 L 173.0000 163.9088 L 173.0000 172.7370 L 173.0000 181.5653 L 173.0000 190.3935 L 173.0000 199.2218 L 173.0000 208.0501 L 173.0000 216.8783 L 173.0000 225.7066 L 173.0000 234.5349 L 173.0000 243.3631 L 173.0000 252.1914 L 173.0000 261.0197 L 173.0000 269.8479 L 173.0000 278.6762 L 173.0000 287.5044 L 173.0000 296.3327 L 173.0000 305.1610 L 173.0000 313.9892 L 173.0000 322.8175 L 173.0000 331.6458 L 173.0000 340.4740 L 173.0000 349.3023 L 172.5580 360.9478 L 171.0729 372.7689 L 168.5616 384.3854 L 165.0767 395.6748 L 160.6935 406.5393 L 153.6218 415.8753 L 145.7932 424.2657 L 137.5236 431.8283 L 128.8941 438.5932 L 119.9683 444.5927 L 110.7952 449.8544 L 101.4112 454.3957 L 91.8428 458.2188 L 82.1093 461.3031 L 72.2256 463.5942 L 62.2126 464.9797 L 52.1142 465.2432 L 42.0881 465.3789 L 30.7489 466.0832 L 17.8543 459.8222 L 10.4279 446.4432 L 8.9662 433.4107" fill="none" stroke="#00c853" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" />
    <circle cx="8.9662" cy="433.4107" r="1.8" fill="#00c853" stroke="none"/>
    <text x="12.9662" y="429.4107" font-size="10" fill="#111111">0</text>
    <circle cx="103.0000" cy="146.2522" r="1.8" fill="#00c853" stroke="none"/>
    <text x="107.0000" y="142.2522" font-size="10" fill="#111111">50</text>
    <circle cx="173.0000" cy="296.3327" r="1.8" fill="#00c853" stroke="none"/>
    <text x="177.0000" y="292.3327" font-size="10" fill="#111111">100</text>
    <circle cx="8.9662" cy="433.4107" r="4.0" fill="#2962ff" stroke="none"/>
    <text x="12.9662" y="429.4107" font-size="10" fill="#111111">start</text>
  </g>
  <g id="debug-ring-jump">
    <line x1="103.0000" y1="5.0000" x2="173.0000" y2="5.0000" stroke="#ff1744" stroke-width="6" stroke-linecap="round" opacity="0.9"/>
    <circle cx="103.0000" cy="5.0000" r="5" fill="#ff1744" stroke="none"/>
    <circle cx="173.0000" cy="5.0000" r="5" fill="#ff1744" stroke="none"/>
    <text x="107.0000" y="1.0000" font-size="10" fill="#111111">a=66</text>
    <text x="177.0000" y="1.0000" font-size="10" fill="#111111">b=67</text>
    <text x="142.0000" y="1.0000" font-size="10" fill="#111111">k=66 len=70.0000</text>
    <text x="142.0000" y="17.0000" font-size="10" fill="#111111">ringJump verts=129 maxK=66 len=70.0000</text>
  </g>
<g id="debug-sampling-why"></g>
  </g>
  <text x="20" y="20" font-size="14" fill="#111">example=none view=compareAll,ringSpine,ringJump,samplingWhy,centerline,inkControls,debugSVG solo=false</text>
  <g id="debug-legend">
    <text x="20" y="40" font-size="12" fill="#111">reference fill</text>
    <text x="20" y="56" font-size="12" fill="cyan">reference outline</text>
    <text x="20" y="72" font-size="12" fill="#111">ink fill</text>
    <text x="20" y="88" font-size="12" fill="orange">centerline</text>
    <text x="20" y="104" font-size="12" fill="gray">ink controls</text>
    <text x="20" y="120" font-size="12" fill="#00c853">ring spine</text>
    <text x="20" y="136" font-size="12" fill="#ff1744">ring jump</text>
    <text x="20" y="152" font-size="12" fill="red">why: flatness</text>
    <text x="20" y="168" font-size="12" fill="blue">why: rail deviation</text>
    <text x="20" y="184" font-size="12" fill="purple">why: both</text>
    <text x="20" y="200" font-size="12" fill="gray">why: forced stop</text>
  </g>
</svg>